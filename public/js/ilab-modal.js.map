{"version":3,"sources":["ilab-modal-tabs.js","ilab-modal.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ilab-modal.js","sourcesContent":["(function($){\n\n    $.fn.ilabTabs=function(options){\n        var settings= $.extend({},options);\n\n        return this.each(function(){\n            var container=$(this);\n            var label=container.find('.ilab-modal-tabs-select-label');\n            var select=container.find('.ilab-modal-tabs-select');\n            var tabs=container.find('.ilab-modal-editor-tab');\n\n            var minWidth=0;\n            var tabFont,tabMarginLeft,tabMarginRight,tabPaddingLeft,tabPaddingRight=null;\n\n            var getTextWidth=function(text, font) {\n                // re-use canvas object for better performance\n\n                var canvas = this.canvas || (this.canvas = document.createElement(\"canvas\"));\n                var context = canvas.getContext(\"2d\");\n                context.font = font;\n                var metrics = context.measureText(text);\n                return metrics.width;\n            };\n\n            tabs.each(function(){\n                var tab=$(this);\n                if (tabFont==null) {\n\n                    tabFont = tab.css('font');\n                    tabMarginLeft=parseInt(tab.css('margin-left'));\n                    tabMarginRight=parseInt(tab.css('margin-right'));\n                    tabPaddingLeft=parseInt(tab.css('padding-left'));\n                    tabPaddingRight=parseInt(tab.css('padding-right'));\n                }\n\n                tabWidth=getTextWidth(tab.text(),tabFont)+tabMarginLeft+tabMarginRight+tabPaddingLeft+tabPaddingRight+15;\n                minWidth+=tabWidth;\n            });\n\n            console.log('min-width',minWidth);\n\n            if (label && settings.hasOwnProperty('label'))\n                label.text(settings.label);\n\n            tabs.removeClass('active-tab');\n            tabs.on('click',function(e){\n                e.preventDefault();\n\n                tabs.removeClass('active-tab');\n                var tab=$(this);\n                tab.addClass('active-tab');\n\n                if (select)\n                    select.val(tab.data('value'));\n\n                settings.currentValue=tab.data('value');\n\n                if (settings.hasOwnProperty('tabSelected'))\n                    settings.tabSelected(tab);\n\n                return false;\n            });\n\n            if (select)\n            {\n                select.on('change',function(){\n                    tabs.removeClass('active-tab');\n                    tabs.each(function(){\n                        var tab=$(this);\n                        if (tab.data('value')==select.val())\n                            tab.addClass('active-tab');\n                    });\n                    var option=select.find(\":selected\");\n                    if (settings.hasOwnProperty('tabSelected'))\n                        settings.tabSelected(option);\n                });\n            }\n\n            if (settings.hasOwnProperty('currentValue'))\n            {\n                if (select)\n                    select.val(settings.currentValue);\n\n                tabs.each(function(){\n                   var tab=$(this);\n                    if (tab.data('value')==settings.currentValue)\n                        tab.addClass('active-tab');\n                });\n            }\n\n            var checkOverflow=function(){\n                console.log('overflow');\n                if (minWidth > container.width()) {\n                    label.show();\n                    select.show();\n                    tabs.hide();\n                }\n                else {\n                    label.hide();\n                    select.hide();\n                    tabs.show();\n                }\n            };\n\n            $(window).on('resize',checkOverflow);\n            checkOverflow();\n        });\n    };\n\n}(jQuery));\n","/**\n * Created by jong on 8/1/15.\n */\n\nvar ILabModal=(function(){\n    var _dirty=false;\n    var _data={};\n\n    var cancel=function(){\n        jQuery('.ilab-modal-container').remove();\n        jQuery('.ilab-modal-backdrop').remove();\n    };\n\n    var makeDirty=function(){\n        _dirty=true;\n    };\n\n    var isDirty=function(){\n        return _dirty;\n    };\n\n    var makeClean=function(){\n        _dirty=false;\n    };\n\n    var loadURL=function(url,partial,partialCallback){\n        if (_dirty)\n        {\n            if (!confirm('You\\'ve made changes, continuing will lose them.\\n\\nContinue?'))\n                return false;\n        }\n\n        _dirty=false;\n\n        jQuery.get(url, function(data) {\n            if (partial) {\n                partialCallback(data);\n                //jQuery('#ilab-modal-container').remove();\n                //jQuery('body').append(data);\n                //jQuery('#ilab-modal-window-area').unbind().html('').append(data);\n            } else {\n                jQuery('body').append(data);\n            }\n        });\n    };\n\n    return {\n        cancel: cancel,\n        makeDirty:makeDirty,\n        isDirty:isDirty,\n        makeClean:makeClean,\n        loadURL:loadURL\n    };\n})();\n\njQuery(document).ready(function($){\n    $(document).on('click', 'a.ilab-thickbox', function(e) {\n        e.preventDefault();\n        var currEl = $(this);\n        var partial=currEl.hasClass('ilab-thickbox-partial');\n\n        ILabModal.loadURL(currEl.attr('href'),partial,null);\n\n        return false;\n    });\n});"],"sourceRoot":"js/"}